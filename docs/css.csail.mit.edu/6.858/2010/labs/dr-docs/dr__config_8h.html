<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DynamoRIO API: dr_config.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>dr_config.h File Reference</h1>Deployment API for Windows. Use these functions to register processes to run under DynamoRIO, unregister processes, obtain existing registration information, and nudge running processes.  
<a href="dr__config_8h.html#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#386c1346b4d4a46488fc050c51bfe9bc">DR_MAX_OPTIONS_LENGTH</a>&nbsp;&nbsp;&nbsp;512</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be">dr_operation_mode_t</a> { <br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188beb9f1f2d848cb082195e8c4c32dce3e33">DR_MODE_NONE</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be9063a7ce4d71eb37a49799474fe29873">DR_MODE_CODE_MANIPULATION</a> =  1
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> { <br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae74bcaaca758394280af450e0c252715d9">DR_SUCCESS</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7ebeb651e698240eb01f5c3b7a467fdd6">DR_PROC_REG_EXISTS</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7b2522e1ae0ea57910e1c6d8787b9d69a">DR_PROC_REG_INVALID</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7349643125983c919f8ea895166e4e39e">DR_PRIORITY_INVALID</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae711b74563fc86bcaaad93ce039b8b47db">DR_ID_CONFLICTING</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae714aafa949eed135a40b0459a90f4eab3">DR_ID_INVALID</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7a24c8d2b40ace9aae7f20b22fd84816e">DR_FAILURE</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7df420fb6b013980ca4b2ae7c06b9c919">DR_NUDGE_PID_NOT_INJECTED</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae70a00e5e046095c62b842d68fbb7fa8b5">DR_NUDGE_TIMEOUT</a>
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> { <br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c394959d2d12dfb8d5339eed36bda3b21">DR_PLATFORM_DEFAULT</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935cf58104da0e56626d6cbf597c038a28a1">DR_PLATFORM_32BIT</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935cb4ae438e060cb8167b7913ed1dad2b8f">DR_PLATFORM_64BIT</a>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#303f226bbb38a435a622e9186627b427">dr_register_process</a> (const char *process_name, process_id_t pid, bool global, const char *dr_root_dir, <a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be">dr_operation_mode_t</a> dr_mode, bool debug, <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, const char *dr_options)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#88b411b7361318e5e73591434a9ccb82">dr_unregister_process</a> (const char *process_name, process_id_t pid, bool global, <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#93ad2283fbffb0cef668606ec40f8010">dr_register_syswide</a> (<a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, const char *dr_root_dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#96022b2a59415558cf68da861c7986dd">dr_unregister_syswide</a> (<a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, const char *dr_root_dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#887e4703163de15702c3375501aa2d82">dr_syswide_is_on</a> (<a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, const char *dr_root_dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#ba501570db9f9d24581e71d6692c16bf">dr_process_is_registered</a> (const char *process_name, process_id_t pid, bool global, <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, char *dr_root_dir, <a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be">dr_operation_mode_t</a> *dr_mode, bool *debug, char *dr_options)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">dr_registered_process_iterator_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#b5b120e70b90f7f45128a3faf002ad36">dr_registered_process_iterator_start</a> (<a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, bool global)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#a270f28dd26d25816244191063cf93f6">dr_registered_process_iterator_hasnext</a> (dr_registered_process_iterator_t *iter)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#74be883abc110a315b5d02ba17daad31">dr_registered_process_iterator_next</a> (dr_registered_process_iterator_t *iter, char *process_name, char *dr_root_dir, <a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be">dr_operation_mode_t</a> *dr_mode, bool *debug, char *dr_options)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#e490c454a3b2553b91afd01e9ad9fcad">dr_registered_process_iterator_stop</a> (dr_registered_process_iterator_t *iter)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#6e096f4225b482c50e416c5ecf68e0f9">dr_register_client</a> (const char *process_name, process_id_t pid, bool global, <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, <a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> client_id, size_t client_pri, const char *client_path, const char *client_options)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#f55faac5e4571898b3276dcccbc746f9">dr_unregister_client</a> (const char *process_name, process_id_t pid, bool global, <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, <a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> client_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#9500b0c1126ec39169efa8b2aa3aa8f0">dr_num_registered_clients</a> (const char *process_name, process_id_t pid, bool global, <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#b5b2d2db2ec13344466ecd91c9778591">dr_get_client_info</a> (const char *process_name, process_id_t pid, bool global, <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform, <a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> client_id, size_t *client_pri, char *client_path, char *client_options)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">dr_client_iterator_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#12fe101b3b17a4ea1969dd623680426b">dr_client_iterator_start</a> (const char *process_name, process_id_t pid, bool global, <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a> dr_platform)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#7e0c47eab8753b4b100be4e0fc87108a">dr_client_iterator_hasnext</a> (dr_client_iterator_t *iter)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#e805980f6a5300afae675d61af0ee7ff">dr_client_iterator_next</a> (dr_client_iterator_t *iter, <a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> *client_id, size_t *client_pri, char *client_path, char *client_options)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#4cfa9b99d27b05285bfb76548a6b94ef">dr_client_iterator_stop</a> (dr_client_iterator_t *iter)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#cbe479389db99b03fd1af89271b22efc">dr_nudge_process</a> (const char *process_name, <a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> client_id, uint64 arg, uint timeout_ms, int *nudge_count)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#e46d92ab047a6a62c34c9c03ee0fd281">dr_nudge_pid</a> (process_id_t process_id, <a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> client_id, uint64 arg, uint timeout_ms)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dr__config_8h.html#620f8e724f08f969d38bafd315c86d50">dr_nudge_all</a> (<a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> client_id, uint64 arg, uint timeout_ms, int *nudge_count)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Deployment API for Windows. Use these functions to register processes to run under DynamoRIO, unregister processes, obtain existing registration information, and nudge running processes. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The dr_config library is currently not multi-thread safe. Users of the library should ensure that no more then one thread accesses the library at a time. This limitation will be addressed in future releases. </dd></dl>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="386c1346b4d4a46488fc050c51bfe9bc"></a><!-- doxytag: member="dr_config.h::DR_MAX_OPTIONS_LENGTH" ref="386c1346b4d4a46488fc050c51bfe9bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DR_MAX_OPTIONS_LENGTH&nbsp;&nbsp;&nbsp;512          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maximum length of a registered process's options string 
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="5e24de02bea5743b74adb6e64af19ae7"></a><!-- doxytag: member="dr_config.h::dr_config_status_t" ref="5e24de02bea5743b74adb6e64af19ae7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return status codes for process registration, unregistration and nudging. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae74bcaaca758394280af450e0c252715d9"></a><!-- doxytag: member="DR_SUCCESS" ref="5e24de02bea5743b74adb6e64af19ae74bcaaca758394280af450e0c252715d9" args="" -->DR_SUCCESS</em>&nbsp;</td><td>
Operation succeeded. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae7ebeb651e698240eb01f5c3b7a467fdd6"></a><!-- doxytag: member="DR_PROC_REG_EXISTS" ref="5e24de02bea5743b74adb6e64af19ae7ebeb651e698240eb01f5c3b7a467fdd6" args="" -->DR_PROC_REG_EXISTS</em>&nbsp;</td><td>
Process registration failed due to an existing registration. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae7b2522e1ae0ea57910e1c6d8787b9d69a"></a><!-- doxytag: member="DR_PROC_REG_INVALID" ref="5e24de02bea5743b74adb6e64af19ae7b2522e1ae0ea57910e1c6d8787b9d69a" args="" -->DR_PROC_REG_INVALID</em>&nbsp;</td><td>
Operation failed because the supplied process is not registered. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae7349643125983c919f8ea895166e4e39e"></a><!-- doxytag: member="DR_PRIORITY_INVALID" ref="5e24de02bea5743b74adb6e64af19ae7349643125983c919f8ea895166e4e39e" args="" -->DR_PRIORITY_INVALID</em>&nbsp;</td><td>
Client registration failed due to an invalid priority value. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae711b74563fc86bcaaad93ce039b8b47db"></a><!-- doxytag: member="DR_ID_CONFLICTING" ref="5e24de02bea5743b74adb6e64af19ae711b74563fc86bcaaad93ce039b8b47db" args="" -->DR_ID_CONFLICTING</em>&nbsp;</td><td>
Client registration failed due to a conflicting ID. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae714aafa949eed135a40b0459a90f4eab3"></a><!-- doxytag: member="DR_ID_INVALID" ref="5e24de02bea5743b74adb6e64af19ae714aafa949eed135a40b0459a90f4eab3" args="" -->DR_ID_INVALID</em>&nbsp;</td><td>
Client operation failed due to an invalid client ID. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae7a24c8d2b40ace9aae7f20b22fd84816e"></a><!-- doxytag: member="DR_FAILURE" ref="5e24de02bea5743b74adb6e64af19ae7a24c8d2b40ace9aae7f20b22fd84816e" args="" -->DR_FAILURE</em>&nbsp;</td><td>
Unknown failure. Check that caller has adequate permissions for this operation. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae7df420fb6b013980ca4b2ae7c06b9c919"></a><!-- doxytag: member="DR_NUDGE_PID_NOT_INJECTED" ref="5e24de02bea5743b74adb6e64af19ae7df420fb6b013980ca4b2ae7c06b9c919" args="" -->DR_NUDGE_PID_NOT_INJECTED</em>&nbsp;</td><td>
Nudge operation failed because the specified process id is not under DR. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5e24de02bea5743b74adb6e64af19ae70a00e5e046095c62b842d68fbb7fa8b5"></a><!-- doxytag: member="DR_NUDGE_TIMEOUT" ref="5e24de02bea5743b74adb6e64af19ae70a00e5e046095c62b842d68fbb7fa8b5" args="" -->DR_NUDGE_TIMEOUT</em>&nbsp;</td><td>
Nudge operation timed out waiting for target process to finish handling a nudge. </td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="486e581c1077fcb8a49e796c9bc188be"></a><!-- doxytag: member="dr_config.h::dr_operation_mode_t" ref="486e581c1077fcb8a49e796c9bc188be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be">dr_operation_mode_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Specifies DynamoRIO's operation mode. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="486e581c1077fcb8a49e796c9bc188beb9f1f2d848cb082195e8c4c32dce3e33"></a><!-- doxytag: member="DR_MODE_NONE" ref="486e581c1077fcb8a49e796c9bc188beb9f1f2d848cb082195e8c4c32dce3e33" args="" -->DR_MODE_NONE</em>&nbsp;</td><td>
No mode. Clients should not attempt to register a process in this mode. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="486e581c1077fcb8a49e796c9bc188be9063a7ce4d71eb37a49799474fe29873"></a><!-- doxytag: member="DR_MODE_CODE_MANIPULATION" ref="486e581c1077fcb8a49e796c9bc188be9063a7ce4d71eb37a49799474fe29873" args="" -->DR_MODE_CODE_MANIPULATION</em>&nbsp;</td><td>
Run DynamoRIO in Code Manipulation mode. </td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="43632ea1157f971b7af4273ef696935c"></a><!-- doxytag: member="dr_config.h::dr_platform_t" ref="43632ea1157f971b7af4273ef696935c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allow targeting both WOW64 and native 64-bit processes separately. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="43632ea1157f971b7af4273ef696935c394959d2d12dfb8d5339eed36bda3b21"></a><!-- doxytag: member="DR_PLATFORM_DEFAULT" ref="43632ea1157f971b7af4273ef696935c394959d2d12dfb8d5339eed36bda3b21" args="" -->DR_PLATFORM_DEFAULT</em>&nbsp;</td><td>
The platform this tool is compiled for. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="43632ea1157f971b7af4273ef696935cf58104da0e56626d6cbf597c038a28a1"></a><!-- doxytag: member="DR_PLATFORM_32BIT" ref="43632ea1157f971b7af4273ef696935cf58104da0e56626d6cbf597c038a28a1" args="" -->DR_PLATFORM_32BIT</em>&nbsp;</td><td>
32-bit settings (for 32-bit or WOW64 processes). </td></tr>
<tr><td valign="top"><em><a class="anchor" name="43632ea1157f971b7af4273ef696935cb4ae438e060cb8167b7913ed1dad2b8f"></a><!-- doxytag: member="DR_PLATFORM_64BIT" ref="43632ea1157f971b7af4273ef696935cb4ae438e060cb8167b7913ed1dad2b8f" args="" -->DR_PLATFORM_64BIT</em>&nbsp;</td><td>
64-bit settings (for native 64-bit processes). </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7e0c47eab8753b4b100be4e0fc87108a"></a><!-- doxytag: member="dr_config.h::dr_client_iterator_hasnext" ref="7e0c47eab8753b4b100be4e0fc87108a" args="(dr_client_iterator_t *iter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dr_client_iterator_hasnext           </td>
          <td>(</td>
          <td class="paramtype">dr_client_iterator_t *&nbsp;</td>
          <td class="paramname"> <em>iter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iter</em>&nbsp;</td><td>A client iterator created with <a class="el" href="dr__config_8h.html#12fe101b3b17a4ea1969dd623680426b">dr_client_iterator_start()</a></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if there are more clients to iterate over </dd></dl>

</div>
</div><p>
<a class="anchor" name="e805980f6a5300afae675d61af0ee7ff"></a><!-- doxytag: member="dr_config.h::dr_client_iterator_next" ref="e805980f6a5300afae675d61af0ee7ff" args="(dr_client_iterator_t *iter, client_id_t *client_id, size_t *client_pri, char *client_path, char *client_options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dr_client_iterator_next           </td>
          <td>(</td>
          <td class="paramtype">dr_client_iterator_t *&nbsp;</td>
          <td class="paramname"> <em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> *&nbsp;</td>
          <td class="paramname"> <em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>client_pri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return information about a client.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iter</em>&nbsp;</td><td>A client iterator created with <a class="el" href="dr__config_8h.html#12fe101b3b17a4ea1969dd623680426b">dr_client_iterator_start()</a></td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>client_id</em>&nbsp;</td><td>The unique client ID provided at client registration.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>client_pri</em>&nbsp;</td><td>The client's priority.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>client_path</em>&nbsp;</td><td>The client's path provided at registration. Callers can pass NULL if this value is not needed. Otherwise, the parameter must be a caller-allocated array of length MAX_PATH.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>client_options</em>&nbsp;</td><td>The client options provided at registration. Callers can pass NULL if this value is not needed. Otherwise, the parameter must be a caller-allocated array of length <a class="el" href="dr__config_8h.html#386c1346b4d4a46488fc050c51bfe9bc">DR_MAX_OPTIONS_LENGTH</a>. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="12fe101b3b17a4ea1969dd623680426b"></a><!-- doxytag: member="dr_config.h::dr_client_iterator_start" ref="12fe101b3b17a4ea1969dd623680426b" args="(const char *process_name, process_id_t pid, bool global, dr_platform_t dr_platform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dr_client_iterator_t* dr_client_iterator_start           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates and starts an iterator for iterating over all clients registered for the given process.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable (e.g., calc.exe).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pid</em>&nbsp;</td><td>A process id of a target process, typically just created and suspended via <a class="el" href="dr__inject_8h.html#9e178716fcf1a6245f948d669292c277">dr_inject_process_exit()</a>. If pid != 0, the one-time configuration for that pid will be queried. If pid == 0, the general configuration for process_name will be queried.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to check.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>iterator for use with <a class="el" href="dr__config_8h.html#7e0c47eab8753b4b100be4e0fc87108a">dr_client_iterator_hasnext()</a> and <a class="el" href="dr__config_8h.html#e805980f6a5300afae675d61af0ee7ff">dr_client_iterator_next()</a>. Must be freed with <a class="el" href="dr__config_8h.html#4cfa9b99d27b05285bfb76548a6b94ef">dr_client_iterator_stop()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="4cfa9b99d27b05285bfb76548a6b94ef"></a><!-- doxytag: member="dr_config.h::dr_client_iterator_stop" ref="4cfa9b99d27b05285bfb76548a6b94ef" args="(dr_client_iterator_t *iter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dr_client_iterator_stop           </td>
          <td>(</td>
          <td class="paramtype">dr_client_iterator_t *&nbsp;</td>
          <td class="paramname"> <em>iter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stops and frees a client iterator.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iter</em>&nbsp;</td><td>A client iterator created with <a class="el" href="dr__config_8h.html#12fe101b3b17a4ea1969dd623680426b">dr_client_iterator_start()</a> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b5b2d2db2ec13344466ecd91c9778591"></a><!-- doxytag: member="dr_config.h::dr_get_client_info" ref="b5b2d2db2ec13344466ecd91c9778591" args="(const char *process_name, process_id_t pid, bool global, dr_platform_t dr_platform, client_id_t client_id, size_t *client_pri, char *client_path, char *client_options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_get_client_info           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>client_pri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve client registration information for a particular process for the current user.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable (e.g., calc.exe).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pid</em>&nbsp;</td><td>A process id of a target process, typically just created and suspended via <a class="el" href="dr__inject_8h.html#9e178716fcf1a6245f948d669292c277">dr_inject_process_exit()</a>. If pid != 0, the one-time configuration for that pid will be queried. If pid == 0, the general configuration for process_name will be queried.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to unset.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_id</em>&nbsp;</td><td>The unique client ID provided at client registration.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>client_pri</em>&nbsp;</td><td>The client's priority.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>client_path</em>&nbsp;</td><td>The client's path provided at registration. Callers can pass NULL if this value is not needed. Otherwise, the parameter must be a caller-allocated array of length MAX_PATH.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>client_options</em>&nbsp;</td><td>The client options provided at registration. Callers can pass NULL if this value is not needed. Otherwise, the parameter must be a caller-allocated array of length <a class="el" href="dr__config_8h.html#386c1346b4d4a46488fc050c51bfe9bc">DR_MAX_OPTIONS_LENGTH</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of the call. </dd></dl>

</div>
</div><p>
<a class="anchor" name="620f8e724f08f969d38bafd315c86d50"></a><!-- doxytag: member="dr_config.h::dr_nudge_all" ref="620f8e724f08f969d38bafd315c86d50" args="(client_id_t client_id, uint64 arg, uint timeout_ms, int *nudge_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_nudge_all           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname"> <em>timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>nudge_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provides a mechanism for an external entity on the guest OS to communicate with a client. Requires administrative privileges. A process 'nudge' causes a client event handler to be invoked (use <a class="el" href="dr__events_8h.html#9037603d0bd5bfca4198011adb8d10eb">dr_register_nudge_event()</a> to register the handler function). A nudge is ignored if the process is not running under DynamoRIO, the specified client is not loaded, or if the client does not provide a handler. Nudges are attempted to all processes running on the system.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_id</em>&nbsp;</td><td>The unique client ID provided at client registration.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>arg</em>&nbsp;</td><td>An argument passed to the client's nudge handler.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout_ms</em>&nbsp;</td><td>The number of milliseconds to wait for each nudge to complete before continuing. If INFINITE is supplied then the wait is unbounded. If 0 is supplied the no wait is performed. If a wait times out DR_NUDGE_TIMEOUT will be returned.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>nudge_count</em>&nbsp;</td><td>Returns the number of processes nudged. Client can supply NULL if this value is not needed.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of the nudge.</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>A process nudge is a one way asynchronous communication from an external entity to a client. It does not allow a client to return information back to the nudge originator. To communicate from a client to another process, use the channels specified in <a class="el" href="using.html#sec_comm">Communication</a>.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Nudging 64-bit processes is not yet supported. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e46d92ab047a6a62c34c9c03ee0fd281"></a><!-- doxytag: member="dr_config.h::dr_nudge_pid" ref="e46d92ab047a6a62c34c9c03ee0fd281" args="(process_id_t process_id, client_id_t client_id, uint64 arg, uint timeout_ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_nudge_pid           </td>
          <td>(</td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>process_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname"> <em>timeout_ms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provides a mechanism for an external entity on the guest OS to communicate with a client. Requires administrative privileges. A process 'nudge' causes a client event handler to be invoked (use <a class="el" href="dr__events_8h.html#9037603d0bd5bfca4198011adb8d10eb">dr_register_nudge_event()</a> to register the handler function). A nudge is ignored if the process is not running under DynamoRIO, the specified client is not loaded, or if the client does not provide a handler.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_id</em>&nbsp;</td><td>The system id of the process to nudge (see <a class="el" href="dr__tools_8h.html#83b3658ca78e6b7adc81c57691f0fe50">dr_get_process_id()</a>)</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_id</em>&nbsp;</td><td>The unique client ID provided at client registration.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>arg</em>&nbsp;</td><td>An argument passed to the client's nudge handler.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout_ms</em>&nbsp;</td><td>The number of milliseconds to wait for the nudge to complete before returning. If INFINITE is supplied then the wait is unbounded. If 0 is supplied the no wait is performed. If the wait times out DR_NUDGE_TIMEOUT will be returned.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of the nudge.</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>A process nudge is a one way asynchronous communication from an external entity to a client. It does not allow a client to return information back to the nudge originator. To communicate from a client to another process, use the channels specified in <a class="el" href="using.html#sec_comm">Communication</a>.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Nudging 64-bit processes is not yet supported. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cbe479389db99b03fd1af89271b22efc"></a><!-- doxytag: member="dr_config.h::dr_nudge_process" ref="cbe479389db99b03fd1af89271b22efc" args="(const char *process_name, client_id_t client_id, uint64 arg, uint timeout_ms, int *nudge_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_nudge_process           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname"> <em>timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>nudge_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provides a mechanism for an external entity on the guest OS to communicate with a client. Requires administrative privileges. A process 'nudge' causes a client event handler to be invoked (use <a class="el" href="dr__events_8h.html#9037603d0bd5bfca4198011adb8d10eb">dr_register_nudge_event()</a> to register the handler function). A nudge is ignored if the process is not running under DynamoRIO, the specified client is not loaded, or if the client does not provide a handler.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_id</em>&nbsp;</td><td>The unique client ID provided at client registration.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>arg</em>&nbsp;</td><td>An argument passed to the client's nudge handler.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout_ms</em>&nbsp;</td><td>The number of milliseconds to wait for each nudge to complete before continuing. If INFINITE is supplied then the wait is unbounded. If 0 is supplied the no wait is performed. If a wait times out DR_NUDGE_TIMEOUT will be returned.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>nudge_count</em>&nbsp;</td><td>Returns the number of processes nudged. Client can supply NULL if this value is not needed.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of the nudge.</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>If there are multiple processes executing with the same name, all of them are nudged.<p>
A process nudge is a one way asynchronous communication from an external entity to a client. It does not allow a client to return information back to the nudge originator. To communicate from a client to another process, use the channels specified in <a class="el" href="using.html#sec_comm">Communication</a>.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Nudging 64-bit processes is not yet supported. </dd></dl>

</div>
</div><p>
<a class="anchor" name="9500b0c1126ec39169efa8b2aa3aa8f0"></a><!-- doxytag: member="dr_config.h::dr_num_registered_clients" ref="9500b0c1126ec39169efa8b2aa3aa8f0" args="(const char *process_name, process_id_t pid, bool global, dr_platform_t dr_platform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t dr_num_registered_clients           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve the number of clients registered for a particular process for the current user.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable (e.g., calc.exe).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pid</em>&nbsp;</td><td>A process id of a target process, typically just created and suspended via <a class="el" href="dr__inject_8h.html#9e178716fcf1a6245f948d669292c277">dr_inject_process_exit()</a>. If pid != 0, the one-time configuration for that pid will be queried. If pid == 0, the general configuration for process_name will be queried.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to unset.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of clients registered for the given process and platform. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ba501570db9f9d24581e71d6692c16bf"></a><!-- doxytag: member="dr_config.h::dr_process_is_registered" ref="ba501570db9f9d24581e71d6692c16bf" args="(const char *process_name, process_id_t pid, bool global, dr_platform_t dr_platform, char *dr_root_dir, dr_operation_mode_t *dr_mode, bool *debug, char *dr_options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dr_process_is_registered           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dr_root_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be">dr_operation_mode_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dr_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dr_options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if a process is registered to run under DynamoRIO. To obtain client information, use <a class="el" href="dr__config_8h.html#b5b2d2db2ec13344466ecd91c9778591">dr_get_client_info()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable (e.g., calc.exe).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pid</em>&nbsp;</td><td>A process id of a target process, typically just created and suspended via <a class="el" href="dr__inject_8h.html#9e178716fcf1a6245f948d669292c277">dr_inject_process_exit()</a>. If pid != 0, the one-time configuration for that pid will be queried. If pid == 0, the general configuration for process_name will be queried.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to check.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dr_root_dir</em>&nbsp;</td><td>If the process is registered, the root DynamoRIO directory provided at registration. Callers can pass NULL if this value is not needed. Otherwise, the parameter must be a caller-allocated array of length MAX_PATH.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dr_mode</em>&nbsp;</td><td>If the process is registered, the mode provided at registration. Callers can pass NULL if this value is not needed.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>debug</em>&nbsp;</td><td>If the process is registered, the debug flag provided at registration. Callers can pass NULL if this value is not needed.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dr_options</em>&nbsp;</td><td>If the process is registered, the extra DynamoRIO parameters provided at registration. Callers can pass NULL if this value is not needed. Otherwise, the parameter must be a caller-allocated array of length <a class="el" href="dr__config_8h.html#386c1346b4d4a46488fc050c51bfe9bc">DR_MAX_OPTIONS_LENGTH</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the process is registered for the given platform. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6e096f4225b482c50e416c5ecf68e0f9"></a><!-- doxytag: member="dr_config.h::dr_register_client" ref="6e096f4225b482c50e416c5ecf68e0f9" args="(const char *process_name, process_id_t pid, bool global, dr_platform_t dr_platform, client_id_t client_id, size_t client_pri, const char *client_path, const char *client_options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_register_client           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>client_pri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>client_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>client_options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register a client for a particular process. Note that the process must first be registered via <a class="el" href="dr__config_8h.html#303f226bbb38a435a622e9186627b427">dr_register_process()</a> before calling this routine.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable (e.g., calc.exe).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pid</em>&nbsp;</td><td>A process id of a target process, typically just created and suspended via <a class="el" href="dr__inject_8h.html#9e178716fcf1a6245f948d669292c277">dr_inject_process_exit()</a>. If pid != 0, the one-time configuration for that pid will be modified. If pid == 0, the general configuration for process_name will be modified.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to unset.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_id</em>&nbsp;</td><td>A client_id_t uniquely identifying the client. DynamoRIO provides the client ID as a parameter to <a class="el" href="dr__api_8h.html#20a4dc9da7f6bb9121e30bb3570c6961">dr_init()</a>. Clients use this ID to retrieve client-specific path and option information. Outside entities also identify the target of a nudge via this ID.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_pri</em>&nbsp;</td><td>The client number, or priority. Client registration includes a value indicating the priority of a client relative to other clients. In multi-client settings, a client's priority influences event callback ordering. That is, higher priority clients can register their callbacks first; DynamoRIO then calls these routines last. Client priorities range consecutively from 0 to N-1, where N is the number of registered clients. Specify priority 0 to register a client with highest priority.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_path</em>&nbsp;</td><td>A NULL-terminated string specifying the full path to a valid client library. The string length cannot exceed MAX_PATH. The client path may not include any semicolons.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_options</em>&nbsp;</td><td>A NULL-terminated string specifying options that are available to the client via <a class="el" href="dr__tools_8h.html#10831623706378cfc3082c0e27e31c4c">dr_get_options()</a>. The string length cannot exceed <a class="el" href="dr__config_8h.html#386c1346b4d4a46488fc050c51bfe9bc">DR_MAX_OPTIONS_LENGTH</a>. The client options may not include any semicolons.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of registration. </dd></dl>

</div>
</div><p>
<a class="anchor" name="303f226bbb38a435a622e9186627b427"></a><!-- doxytag: member="dr_config.h::dr_register_process" ref="303f226bbb38a435a622e9186627b427" args="(const char *process_name, process_id_t pid, bool global, const char *dr_root_dir, dr_operation_mode_t dr_mode, bool debug, dr_platform_t dr_platform, const char *dr_options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_register_process           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dr_root_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be">dr_operation_mode_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dr_options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register a process to run under DynamoRIO. Note that this routine only sets the base options to run a process under DynamoRIO. To register one or more clients, call <a class="el" href="dr__config_8h.html#6e096f4225b482c50e416c5ecf68e0f9">dr_register_client()</a> subsequently.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable (e.g., calc.exe).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pid</em>&nbsp;</td><td>A process id of a target process, typically just created and suspended via <a class="el" href="dr__inject_8h.html#9e178716fcf1a6245f948d669292c277">dr_inject_process_exit()</a>. If pid != 0, a one-time configuration is created just for it. If pid == 0, a general configuration is created for all future instances of process_name.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_root_dir</em>&nbsp;</td><td>A NULL-terminated string specifying the full path to a valid DynamoRIO root directory. The string length cannot exceed MAX_PATH.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_mode</em>&nbsp;</td><td>Specifies the mode under which DynamoRIO should operate. See dr_operation_mode_t.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>debug</em>&nbsp;</td><td>If true, a DynamoRIO debug build will be used; otherwise, a release build will be used.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to set.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_options</em>&nbsp;</td><td>A NULL-terminated string controlling DynamoRIO's behavior. Most users should not need to specify options. The total string length cannot exceed <a class="el" href="dr__config_8h.html#386c1346b4d4a46488fc050c51bfe9bc">DR_MAX_OPTIONS_LENGTH</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of registration. Note that registration fails if the requested process is already registered. To modify a process's registration, first call <a class="el" href="dr__config_8h.html#88b411b7361318e5e73591434a9ccb82">dr_unregister_process()</a> to remove an existing registration.</dd></dl>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>After registration, a process will run under DynamoRIO when launched by the drinject tool or using drinjectlib. Note that some processes may require a system reboot to restart. Process registration that is not specific to one pid (i.e., if pid == 0) persists across reboots until explicitly unregistered. </dd></dl>

</div>
</div><p>
<a class="anchor" name="93ad2283fbffb0cef668606ec40f8010"></a><!-- doxytag: member="dr_config.h::dr_register_syswide" ref="93ad2283fbffb0cef668606ec40f8010" args="(dr_platform_t dr_platform, const char *dr_root_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_register_syswide           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dr_root_dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets up systemwide injection so that registered applications will run under DynamoRIO however they are launched (i.e., they do not need to be explicitly invoked with the drrun or drinject tools). This requires administrative privileges and affects all users (though configurations remain private to each user). On Windows NT, a reboot is required for this to take effect.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those to use.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_root_dir</em>&nbsp;</td><td>The root DynamoRIO directory (used to locate drpreinject.dll).</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of the operation. The operation will fail if the caller does not have sufficient privileges.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>An application that does not link with user32.dll will not be run under control of DynamoRIO via systemwide injection. Such applications will only be under DynamoRIO control if launched by the drrun or drinject tools or if the parent process (typically explorer.exe, for manually launched applications) is already under DynamoRIO control (the parent can be in any mode, but a 32-bit parent cannot inject into a 64-bit child). Only some small non-graphical applications do not link with user32.dll. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a270f28dd26d25816244191063cf93f6"></a><!-- doxytag: member="dr_config.h::dr_registered_process_iterator_hasnext" ref="a270f28dd26d25816244191063cf93f6" args="(dr_registered_process_iterator_t *iter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dr_registered_process_iterator_hasnext           </td>
          <td>(</td>
          <td class="paramtype">dr_registered_process_iterator_t *&nbsp;</td>
          <td class="paramname"> <em>iter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iter</em>&nbsp;</td><td>A registered process iterator created with <a class="el" href="dr__config_8h.html#b5b120e70b90f7f45128a3faf002ad36">dr_registered_process_iterator_start()</a></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if there are more registered processes to iterate over </dd></dl>

</div>
</div><p>
<a class="anchor" name="74be883abc110a315b5d02ba17daad31"></a><!-- doxytag: member="dr_config.h::dr_registered_process_iterator_next" ref="74be883abc110a315b5d02ba17daad31" args="(dr_registered_process_iterator_t *iter, char *process_name, char *dr_root_dir, dr_operation_mode_t *dr_mode, bool *debug, char *dr_options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dr_registered_process_iterator_next           </td>
          <td>(</td>
          <td class="paramtype">dr_registered_process_iterator_t *&nbsp;</td>
          <td class="paramname"> <em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dr_root_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#486e581c1077fcb8a49e796c9bc188be">dr_operation_mode_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dr_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dr_options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return information about a registered process<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iter</em>&nbsp;</td><td>A registered process iterator created with <a class="el" href="dr__config_8h.html#b5b120e70b90f7f45128a3faf002ad36">dr_registered_process_iterator_start()</a>.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>The name of the registered process. Callers can pass NULL if this value is not needed. Otherwise the parameter must be a caller-allocated array of length MAX_PATH.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dr_root_dir</em>&nbsp;</td><td>The root DynamoRIO directory provided at registration. Callers can pass NULL if this value is not needed. Otherwise, the parameter must be a caller-allocated array of length MAX_PATH.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dr_mode</em>&nbsp;</td><td>If the process is registered, the mode provided at registration. Callers can pass NULL if this value is not needed.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>debug</em>&nbsp;</td><td>If the process is registered, the debug flag provided at registration. Callers can pass NULL if this value is not needed.</td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dr_options</em>&nbsp;</td><td>If the process is registered, the extra DynamoRIO parameters provided at registration. Callers can pass NULL if this value is not needed. Otherwise, the parameter must be a caller-allocated array of length <a class="el" href="dr__config_8h.html#386c1346b4d4a46488fc050c51bfe9bc">DR_MAX_OPTIONS_LENGTH</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the information was successfully retrieved. </dd></dl>

</div>
</div><p>
<a class="anchor" name="b5b120e70b90f7f45128a3faf002ad36"></a><!-- doxytag: member="dr_config.h::dr_registered_process_iterator_start" ref="b5b120e70b90f7f45128a3faf002ad36" args="(dr_platform_t dr_platform, bool global)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dr_registered_process_iterator_t* dr_registered_process_iterator_start           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates and starts an iterator for iterating over all processes registered for the given platform and given global or local parameter.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to check.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>iterator for use with <a class="el" href="dr__config_8h.html#a270f28dd26d25816244191063cf93f6">dr_registered_process_iterator_hasnext()</a>and <a class="el" href="dr__config_8h.html#74be883abc110a315b5d02ba17daad31">dr_registered_process_iterator_next()</a>. Must be freed with <a class="el" href="dr__config_8h.html#e490c454a3b2553b91afd01e9ad9fcad">dr_registered_process_iterator_stop()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="e490c454a3b2553b91afd01e9ad9fcad"></a><!-- doxytag: member="dr_config.h::dr_registered_process_iterator_stop" ref="e490c454a3b2553b91afd01e9ad9fcad" args="(dr_registered_process_iterator_t *iter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dr_registered_process_iterator_stop           </td>
          <td>(</td>
          <td class="paramtype">dr_registered_process_iterator_t *&nbsp;</td>
          <td class="paramname"> <em>iter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stops and frees a registered process iterator.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iter</em>&nbsp;</td><td>A registered process iterator created with <a class="el" href="dr__config_8h.html#b5b120e70b90f7f45128a3faf002ad36">dr_registered_process_iterator_start()</a> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="887e4703163de15702c3375501aa2d82"></a><!-- doxytag: member="dr_config.h::dr_syswide_is_on" ref="887e4703163de15702c3375501aa2d82" args="(dr_platform_t dr_platform, const char *dr_root_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dr_syswide_is_on           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dr_root_dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns whether systemwide injection is enabled.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those to use.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_root_dir</em>&nbsp;</td><td>The root DynamoRIO directory (used to locate drpreinject.dll).</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Whether systemwide injection is enabled. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f55faac5e4571898b3276dcccbc746f9"></a><!-- doxytag: member="dr_config.h::dr_unregister_client" ref="f55faac5e4571898b3276dcccbc746f9" args="(const char *process_name, process_id_t pid, bool global, dr_platform_t dr_platform, client_id_t client_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_unregister_client           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__defines_8h.html#68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>client_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unregister a client for a particular process.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable (e.g., calc.exe).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pid</em>&nbsp;</td><td>A process id of a target process, typically just created and suspended via <a class="el" href="dr__inject_8h.html#9e178716fcf1a6245f948d669292c277">dr_inject_process_exit()</a>. If pid != 0, the one-time configuration for that pid will be modified. If pid == 0, the general configuration for process_name will be modified.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to unset.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>client_id</em>&nbsp;</td><td>The unique client ID provided at client registration.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of unregistration. </dd></dl>

</div>
</div><p>
<a class="anchor" name="88b411b7361318e5e73591434a9ccb82"></a><!-- doxytag: member="dr_config.h::dr_unregister_process" ref="88b411b7361318e5e73591434a9ccb82" args="(const char *process_name, process_id_t pid, bool global, dr_platform_t dr_platform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_unregister_process           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>process_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">process_id_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unregister a process from running under DynamoRIO.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>process_name</em>&nbsp;</td><td>A NULL-terminated string specifying the name of the target process. The string should identify the base name of the process, not the full path of the executable (e.g., calc.exe).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pid</em>&nbsp;</td><td>A process id of a target process, typically just created and suspended via <a class="el" href="dr__inject_8h.html#9e178716fcf1a6245f948d669292c277">dr_inject_process_exit()</a>. If pid != 0, the existing one-time configuration is removed. If pid == 0, the general configuration for process_name is removed.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>global</em>&nbsp;</td><td>Whether global config files, stored in a dir pointed at by the DYNAMORIO_HOME registry key, should be used, or local config files private to the current user. Administrative privileges may be needed if global is true. Note that DynamoRIO gives local config files precedence when both exist. The caller must separately create the global directory.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those configurations to unset.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of unregistration. Note that unregistration fails if the process is not currently registered to run under DynamoRIO. </dd></dl>

</div>
</div><p>
<a class="anchor" name="96022b2a59415558cf68da861c7986dd"></a><!-- doxytag: member="dr_config.h::dr_unregister_syswide" ref="96022b2a59415558cf68da861c7986dd" args="(dr_platform_t dr_platform, const char *dr_root_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dr__config_8h.html#5e24de02bea5743b74adb6e64af19ae7">dr_config_status_t</a> dr_unregister_syswide           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dr__config_8h.html#43632ea1157f971b7af4273ef696935c">dr_platform_t</a>&nbsp;</td>
          <td class="paramname"> <em>dr_platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dr_root_dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disables systemwide injection. Registered applications will not run under DynamoRIO unless explicitly launched with the drrun or drinject tools (or a custom tool that uses the drinjectlib library). On Windows NT, a reboot is required for this to take effect.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_platform</em>&nbsp;</td><td>Configurations are kept separate on 64-bit Windows for 32-bit (WOW64) processes and 64-bit processes. This parameter allows selecting which of those to use.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dr_root_dir</em>&nbsp;</td><td>The root DynamoRIO directory (used to locate drpreinject.dll).</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A dr_config_status_t code indicating the result of the operation. The operation will fail if the caller does not have sufficient privileges. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: center;"><small>
<img border=0 src="favicon.png"> &nbsp; DynamoRIO API version 2.0.0 --- Thu Apr 22 00:18:17 2010 
&nbsp; <img border=0 src="favicon.png">
</body>
</html>
